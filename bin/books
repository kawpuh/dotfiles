#!/bin/env bb
(require '[clojure.java.shell :refer [sh]])
(require '[clojure.string :as s])
(require '[clojure.java.io :as io])

(defn main []
  (let [pdfs (:out (sh "find" "-type" "f" "-iname" "*.pdf" "-printf" "%P\n" :dir "/home/ethan/library"))
        selection (s/trim (:out (sh "rofi" "-dmenu" "-i" :in pdfs)))
        fpath (str "/home/ethan/library/" selection)]
    (if (.isFile (io/file fpath))
      (sh "zathura" fpath))))

(main)

